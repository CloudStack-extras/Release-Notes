<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" >
<section>
	<title>2.2.4</title>
	<para>&PRODUCT; 2.2.4 was released on 16 May 2011</para>
	<important>
		<para>The behavior of storage allocation is more conservative 
		in 2.2.4 than in 2.1.7 and prior releases or 2.2.0-2.2.3. 
		&PRODUCT; will no longer create volumes on primary storage
		 resources that have a storage percentage used higher than that
		 defined by <firstterm> 
		<indexterm><primary>storage.capacity.threshold</primary></indexterm>
		</firstterm>
		 global configuration. Previously &PRODUCT; would allocate a 
		primary storage resource up to 100% full. This space reservation
		 is required as a fix to cases where snapshots of VMs could 
		not be taken when the storage had been allocated to 100% full. 
		The use of a threshold setting allows the administrator to 
		reserve space for snapshots in progress for existing volumes. 
		Deployments with primary storage that is close to full should 
		examine the value of this parameter before upgrading. If all 
		primary storage resources are more full than 
		<indexterm><primary>storage.capacity.threshold</primary></indexterm>
		 no new volumes can be created after upgrade.
		</para>
	</important>
	<section>
		<title>Issues fixed in &PRODUCT; 2.2.4</title>
		<table id="tb-224fixed" frame="all">
                        <title>Issues fixed in 2.2.4</title>
			<tgroup cols='2' align='left' colsep='1' rowsep='1'>
                            <colspec colnum="1" colwidth="1*"/>
                            <colspec colnum="2" colwidth="2*"/>
                        <thead>
				<row>
					<entry>Bug</entry>
					<entry>Description</entry>
				</row>
			</thead>
			<tbody>
                            <row>
				<entry>9702</entry>
				<entry>KVM: VM live migration will work reliably</entry>
                            </row>
			    <row>
				<entry>9152</entry>
				<entry>Space is reserved on each primary storage volume for snapshots.</entry>
			    </row>
			    <row>
				<entry>8103</entry>
				<entry>Attempts to remove a host with running VMs will correctly fail.</entry>
			    </row>
			    <row>
				<entry>8816</entry>
				<entry>Listing system VM IP addresses will distinguish <indexterm><primary>link local</primary></indexterm> from <indexterm><primary>private IP addresses</primary></indexterm>.</entry>
			    </row>
			    <row>
				<entry>8898</entry>
				<entry>The service offering upgrade option is now always shown to users. Attempts to upgrade the service offering for a running VM will fail with a clear error message.</entry>
			    </row>
				<row>
					<entry>9079</entry>
					<entry>Login problems with Safari have been fixed.</entry>
				</row>
				<row>
					<entry>9087</entry>
					<entry>Attach/detach of a data disk in a multi-cluster deployment will work correctly. Previously the data disk could be deleted.</entry>
				</row>
				<row>
					<entry>9140</entry>
					<entry>ISOs that are not bootable may now be uploaded</entry>
				</row>
				<row>
					<entry>8955</entry>
					<entry>KVM: Userdata and instance metadata now work correctly.</entry>
				</row>
				<row>
					<entry>8666</entry>
					<entry>The guest network CIDR must be a RFC1918 address.</entry>
				</row>
				<row>
					<entry>8959</entry>
					<entry>Port forwarding with the virtual router will now work with IP addresses from multiple VLANs</entry>
				</row>
				<row>
					<entry>9106</entry>
					<entry>The VM's metered running time is now correct</entry>
				</row>
				<row>
					<entry>9369</entry>
					<entry>IP address releases will not intermittently fail</entry>
				</row>
				<row>
					<entry>9370</entry>
					<entry>XenServer: the network throttling values are now correctly applied</entry>
				</row>
				<row>
					<entry>8802</entry>
					<entry>Windows password management scripts work correctly in the presence of external network elements</entry>
				</row>
				<row>
					<entry>8911</entry>
					<entry>A security vulnerability that allowed download of some files from the console proxy VM has been fixed</entry>
				</row>
				<row>
					<entry>8954</entry>
					<entry>End users are no longer allowed access to the console of their virtual router</entry>
				</row>
				<row>
					<entry>9130</entry>
					<entry>Security groups are no longer present in the UI in Advanced Networking zones</entry>
				</row>
				<row>
					<entry>9192</entry>
					<entry>Performance of the listVirtualMachines API cal in the presence of many VMs has been significantly improved.</entry>
				</row>
				<row>
					<entry>9663</entry>
					<entry>A security issue that could allow end users to snapshot another user's volume has been fixed</entry>
				</row>
				<row>
					<entry>9243</entry>
					<entry>XenServer: a stop VM request will forcefully stop the VM even if qemu has crashed on the XenServer host</entry>
				</row>
				<row>
					<entry>7723</entry>
					<entry>Host tagging now works correctly</entry>
				</row>
				<row>
					<entry>7935</entry>
					<entry>Usage clients have a path to determining the OS type of a guest booted from a blank VM.</entry>
				</row>
				<row>
					<entry>8532</entry>
					<entry>KVM: HA failover works correctly with OCFS2.</entry>
				</row>
				<row>
					<entry>8714</entry>
					<entry>Users may again create four parallel snapshot schedules</entry>
				</row>
				<row>
					<entry>9180</entry>
					<entry>XenServer: local storage now works correctly</entry>
				</row>
				<row>
					<entry>9539</entry>
					<entry>CPU over-provisioning now works correctly</entry>
				</row>
				<row>
					<entry>8897</entry>
					<entry>Zone delete now works correctly</entry>
				</row>
				<row>
					<entry>8902</entry>
					<entry>Cluster delete now works correctly.</entry>
				</row>
				<row>
					<entry>Many</entry>
					<entry>Several bugs around resource limit tracking have been fixed.</entry>
				</row>
				<row>
					<entry>9093</entry>
					<entry>Firefox 4 and IE 9 are supported browsers</entry>
				</row>
                        </tbody>
                        </tgroup>
                </table>
		
	</section>

        <section>
                <title>New features in &PRODUCT; 2.2.4</title>
                <table id="tb-224newfeat" frame="all">
                        <title>New features in 2.2.4</title>
                        <tgroup cols='2' align='left' colsep='1' rowsep='1'>
                            <colspec colnum="1" colwidth="1*"/>
                            <colspec colnum="2" colwidth="2*"/>
                        <thead>
                                <row>
                                        <entry>Bug</entry>
                                        <entry>Description</entry>
                                </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>7424</entry>
                                <entry>Network throttling may be disabled altogether.</entry>
                            </row>
			    <row>
				<entry>8932</entry>
				<entry>The listTemplates API call will return an md5sum of the template.</entry>
				</row>
				<row>
					<entry>3316</entry>
					<entry>Virtual machines may be manually live-migrated by the administrator. The administrator may pick a VM and the host that the VM should be placed on.</entry>
				</row> 
				<row>
					<entry>8831</entry>
					<entry>A network may be dedicated to a domain. Only users in that domain and its children will have access to the network.</entry>
				</row>
				<row>
					<entry>8945</entry>
					<entry>The global configuration parameter default.page.limit has been added. This sets the maximum number of results that will be returned by list* API calls. Default is 500.</entry>
				</row>
				<row>
					<entry>9098</entry>
					<entry>The UI has been changed to provide clearer monitoring of snapshot progress.</entry>
				</row>
				<row>
					<entry>9635</entry>
					<entry>The Java process's <indexterm><primary>heap size</primary><secondary>Java</secondary></indexterm> has been increased from 28 MB to 1024 MB</entry>
				</row>
				
                        </tbody>
                        </tgroup>
                </table>
               
        </section>


</section>
